<div class="max-w-4xl mx-auto">
  <div class="mb-6">
    <%= link_to "&larr; #{t('actions.back')} to Events".html_safe, events_path, class: "text-gray-600 hover:text-job-blue" %>
  </div>

  <div class="bg-white rounded-lg shadow-md overflow-hidden">
    <% if @event.big_image.attached? %>
      <%= image_tag @event.big_image, class: "w-full h-64 object-cover" %>
    <% else %>
      <div class="w-full h-64 bg-gradient-to-r from-job-blue to-job-blue-dark flex items-center justify-center">
        <span class="text-white text-6xl font-bold"><%= @event.name.first(2).upcase %></span>
      </div>
    <% end %>

    <div class="p-8">
      <h1 class="text-3xl font-bold text-gray-800 mb-4"><%= @event.name %></h1>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
        <div class="bg-gray-50 rounded-lg p-4">
          <h3 class="text-sm font-medium text-gray-500 mb-1"><%= t("events.date") %></h3>
          <p class="font-bold text-gray-800"><%= @event.starts_at.strftime("%B %d, %Y") %></p>
        </div>

        <div class="bg-gray-50 rounded-lg p-4">
          <h3 class="text-sm font-medium text-gray-500 mb-1"><%= t("events.time") %></h3>
          <p class="font-bold text-gray-800">
            <%= @event.starts_at.strftime("%I:%M %p") %>
            <% if @event.ends_at.present? %>
              - <%= @event.ends_at.strftime("%I:%M %p") %>
            <% end %>
          </p>
        </div>

        <div class="bg-gray-50 rounded-lg p-4">
          <h3 class="text-sm font-medium text-gray-500 mb-1"><%= t("events.cost") %></h3>
          <p class="font-bold text-gray-800">
            <% if @event.cost.to_f > 0 %>
              <%= number_to_currency(@event.cost, unit: "HTG ") %>
            <% else %>
              <span class="text-green-600"><%= t("events.free") %></span>
            <% end %>
          </p>
        </div>
      </div>

      <% if @event.location.present? %>
        <div class="mb-6">
          <h3 class="text-lg font-bold text-gray-800 mb-2"><%= t("events.location") %></h3>
          <p class="text-gray-700"><%= @event.location %></p>
        </div>
      <% end %>

      <% if @event.description.present? %>
        <div class="mb-8">
          <h3 class="text-lg font-bold text-gray-800 mb-2">About this event</h3>
          <div class="prose max-w-none text-gray-700">
            <%= simple_format(@event.description) %>
          </div>
        </div>
      <% end %>

      <% if @event.youtube_url.present? %>
        <div class="mb-8">
          <h3 class="text-lg font-bold text-gray-800 mb-2">Video</h3>
          <div class="aspect-video">
            <iframe
              src="<%= @event.youtube_url.gsub('watch?v=', 'embed/') %>"
              class="w-full h-full rounded-lg"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>
        </div>
      <% end %>

      <% if @event.starts_at > Time.current %>
        <div class="text-center pt-4 border-t border-gray-200">
          <%= link_to t("events.register"), signup_event_path(@event), class: "inline-block bg-job-blue hover:bg-job-blue-light text-white px-8 py-3 rounded-lg font-medium text-lg transition" %>
        </div>
      <% else %>
        <div class="text-center pt-4 border-t border-gray-200">
          <p class="text-gray-500">This event has already passed.</p>
        </div>
      <% end %>
    </div>
  </div>
</div>
